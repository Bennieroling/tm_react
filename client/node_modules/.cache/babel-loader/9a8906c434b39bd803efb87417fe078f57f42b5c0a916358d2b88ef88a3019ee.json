{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Downloads/gitTemp/tm_react/client/src/views/GlobalHistoryView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { historyApi } from '../services/api';\nimport StatusIndicator from '../components/StatusIndicator';\nimport './GlobalHistoryView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalHistoryView = () => {\n  _s();\n  const [historyData, setHistoryData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [activeFilter, setActiveFilter] = useState(null);\n  const [showOngoingOnly, setShowOngoingOnly] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState('country'); // 'country' or 'phone'\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Added new filters\n  const [countryFilter, setCountryFilter] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n\n  // Filter settings\n  const [timeRange, setTimeRange] = useState('5d');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [showCustomDates, setShowCustomDates] = useState(false);\n  useEffect(() => {\n    fetchHistoryData();\n  }, [timeRange, viewMode]);\n\n  // Apply filters when filter states change or historyData updates\n  useEffect(() => {\n    if (!historyData || !Array.isArray(historyData)) {\n      setFilteredData([]);\n      return;\n    }\n\n    // First filter out the \"green\" (online) events as we're only interested in issues\n    let filtered = historyData.filter(item => item.status !== 'green');\n\n    // Apply status filter if active\n    if (activeFilter) {\n      filtered = filtered.filter(item => item.status === activeFilter);\n    }\n\n    // Apply search filter if in phone mode\n    if (viewMode === 'phone' && searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(item => item.number && item.number.toLowerCase().includes(term));\n    }\n\n    // Apply country filter if selected\n    if (countryFilter) {\n      const search = countryFilter.toLowerCase();\n      filtered = filtered.filter(item => item.country && item.country.toLowerCase().includes(search));\n    }\n\n    // Apply type filter if selected\n    if (typeFilter) {\n      filtered = filtered.filter(item => item.type === typeFilter);\n    }\n\n    // Apply ongoing filter if active\n    if (showOngoingOnly) {\n      filtered = filtered.filter(item => item.status_end === null);\n    }\n    setFilteredData(filtered);\n  }, [activeFilter, showOngoingOnly, historyData, viewMode, searchTerm, countryFilter, typeFilter]);\n  const fetchHistoryData = async () => {\n    try {\n      setLoading(true);\n      let params = {\n        timeRange\n      };\n      if (timeRange === 'custom' && startDate && endDate) {\n        params.startDate = startDate;\n        params.endDate = endDate;\n      }\n      let response;\n      if (viewMode === 'country') {\n        response = await historyApi.getStatusHistory(params.timeRange, params.startDate, params.endDate);\n      } else {\n        response = await historyApi.getPhoneHistory(params.timeRange, params.startDate, params.endDate, searchTerm || null);\n      }\n\n      // Check if response and response.data exist\n      if (response && response.data) {\n        // Handle wrapped response structure with a data property\n        const actualData = response.data.data || response.data;\n        if (Array.isArray(actualData)) {\n          setHistoryData(actualData);\n\n          // Log data for debugging\n          console.log('Fetched history data:', actualData);\n          console.log('Yellow items count:', actualData.filter(item => item.status === 'yellow').length);\n        } else {\n          console.error('Expected array but received:', typeof actualData);\n          setHistoryData([]);\n          setError('Invalid data format received from server');\n        }\n      } else {\n        // Handle empty or malformed response\n        console.warn('API returned empty or invalid data');\n        setHistoryData([]);\n        setError('No history data available. Please try again later.');\n      }\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to fetch history data. Please try again later.');\n      setLoading(false);\n      console.error('Error fetching history data:', err);\n      // Initialize with empty array to prevent filter errors\n      setHistoryData([]);\n    }\n  };\n  const handleFilterClick = status => {\n    if (activeFilter === status) {\n      // If clicking the same filter again, clear the filter\n      setActiveFilter(null);\n    } else {\n      setActiveFilter(status);\n    }\n  };\n  const handleOngoingFilterClick = () => {\n    setShowOngoingOnly(!showOngoingOnly);\n    // Don't reset status filter\n  };\n  const clearAllFilters = () => {\n    setActiveFilter(null);\n    setShowOngoingOnly(false);\n    setSearchTerm('');\n    setCountryFilter('');\n    setTypeFilter('');\n  };\n\n  // Get unique countries for filter dropdown\n  const getUniqueCountries = () => {\n    if (!historyData || !historyData.length) return [];\n    const countries = new Set();\n    historyData.forEach(item => {\n      if (item.country) countries.add(item.country);\n    });\n    return Array.from(countries).sort();\n  };\n\n  // Get unique types for filter dropdown\n  const getUniqueTypes = () => {\n    if (!historyData || !historyData.length) return [];\n    const types = new Set();\n    historyData.forEach(item => {\n      if (item.type) types.add(item.type);\n    });\n    return Array.from(types).sort();\n  };\n\n  // Get counts by status for issues only\n  const getStatusCounts = () => {\n    const counts = {\n      yellow: 0,\n      red: 0,\n      ongoing: 0,\n      total: 0\n    };\n    if (!historyData || !Array.isArray(historyData)) {\n      return counts;\n    }\n    historyData.forEach(item => {\n      if (item.status === 'yellow' || item.status === 'red') {\n        counts[item.status] = (counts[item.status] || 0) + 1;\n        counts.total++;\n\n        // Count ongoing issues\n        if (item.status_end === null) {\n          counts.ongoing++;\n        }\n      }\n    });\n    return counts;\n  };\n\n  // Format date to readable format\n  const formatDate = dateString => {\n    if (!dateString) return 'Present';\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n\n  // Calculate duration between start and end times\n  const calculateDuration = (startDate, endDate) => {\n    if (!endDate) return 'Ongoing';\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const durationMs = end - start;\n\n    // Less than a minute\n    if (durationMs < 60000) {\n      return `${Math.floor(durationMs / 1000)} seconds`;\n    }\n    // Less than an hour\n    if (durationMs < 3600000) {\n      return `${Math.floor(durationMs / 60000)} minutes`;\n    }\n    // Less than a day\n    if (durationMs < 86400000) {\n      return `${Math.floor(durationMs / 3600000)} hours`;\n    }\n    // More than a day\n    return `${Math.floor(durationMs / 86400000)} days`;\n  };\n  const handleTimeRangeChange = e => {\n    const newRange = e.target.value;\n    setTimeRange(newRange);\n    setShowCustomDates(newRange === 'custom');\n  };\n  const handleCustomDateSubmit = e => {\n    e.preventDefault();\n    fetchHistoryData();\n  };\n\n  // Group history data by country or phone number\n  const groupData = (data = filteredData) => {\n    const grouped = {};\n    if (!data || !Array.isArray(data) || data.length === 0) {\n      return grouped;\n    }\n    if (viewMode === 'country') {\n      data.forEach(item => {\n        if (!item || !item.country) return;\n        if (!grouped[item.country]) {\n          grouped[item.country] = [];\n        }\n        grouped[item.country].push(item);\n      });\n    } else {\n      data.forEach(item => {\n        if (!item || !item.number) return;\n        if (!grouped[item.number]) {\n          grouped[item.number] = [];\n        }\n        grouped[item.number].push(item);\n      });\n    }\n    return grouped;\n  };\n\n  // Add a title that shows the current filter status\n  const getFilterTitle = () => {\n    let title = \"\";\n    if (activeFilter) {\n      title += `${activeFilter === 'yellow' ? 'Degraded' : 'Offline'} `;\n    } else {\n      title += \"All \";\n    }\n    title += \"Issues\";\n    if (showOngoingOnly) {\n      title += \" (Ongoing Only)\";\n    }\n    if (countryFilter) {\n      title += ` in ${countryFilter}`;\n    }\n    if (typeFilter) {\n      title += ` of type ${typeFilter}`;\n    }\n    return title;\n  };\n  const handleViewModeChange = mode => {\n    setViewMode(mode);\n    // Reset filters when changing view mode\n    setActiveFilter(null);\n    setShowOngoingOnly(false);\n    setSearchTerm('');\n    setCountryFilter('');\n    setTypeFilter('');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading history data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 12\n    }, this);\n  }\n  const groupedData = groupData();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Global Status History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-mode-toggle\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `toggle-btn ${viewMode === 'country' ? 'active' : ''}`,\n        onClick: () => handleViewModeChange('country'),\n        children: \"View by Country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `toggle-btn ${viewMode === 'phone' ? 'active' : ''}`,\n        onClick: () => handleViewModeChange('phone'),\n        children: \"View by Phone Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time-range-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"timeRange\",\n          children: \"Time Range:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"timeRange\",\n          value: timeRange,\n          onChange: handleTimeRangeChange,\n          className: \"time-range-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"24h\",\n            children: \"Last 24 Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"48h\",\n            children: \"Last 48 Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5d\",\n            children: \"Last 5 Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"custom\",\n            children: \"Custom Range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), showCustomDates && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCustomDateSubmit,\n        className: \"custom-date-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"date-input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"startDate\",\n            children: \"Start Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            id: \"startDate\",\n            value: startDate,\n            onChange: e => setStartDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"date-input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"endDate\",\n            children: \"End Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            id: \"endDate\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"apply-btn\",\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"advanced-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"countryFilter\",\n            children: \"Country:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"countryFilter\",\n              placeholder: \"Search for a country...\",\n              value: countryFilter,\n              onChange: e => setCountryFilter(e.target.value),\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), countryFilter && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"clear-search-btn\",\n              onClick: () => setCountryFilter(''),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"typeFilter\",\n            children: \"Type:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"typeFilter\",\n            value: typeFilter,\n            onChange: e => setTypeFilter(e.target.value),\n            className: \"filter-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Types\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), getUniqueTypes().map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: type,\n              children: type\n            }, type, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), viewMode === 'phone' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search phone numbers...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchHistoryData,\n          className: \"search-btn\",\n          disabled: !searchTerm,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this), (countryFilter || typeFilter || activeFilter || showOngoingOnly || searchTerm) && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"clear-filter-btn visible\",\n        onClick: clearAllFilters,\n        children: \"Clear All Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-cards\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `summary-card ${activeFilter === 'red' ? 'active' : ''}`,\n          onClick: () => handleFilterClick('red'),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Offline Issues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-count red\",\n            children: getStatusCounts().red\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), activeFilter === 'red' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-badge\",\n            children: \"Filtered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `summary-card ${activeFilter === 'yellow' ? 'active' : ''}`,\n          onClick: () => handleFilterClick('yellow'),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Degraded Issues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-count yellow\",\n            children: getStatusCounts().yellow || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), activeFilter === 'yellow' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-badge\",\n            children: \"Filtered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-cards\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `summary-card ${!activeFilter && !showOngoingOnly ? 'active' : ''}`,\n          onClick: clearAllFilters,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Total Issues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-count blue\",\n            children: getStatusCounts().total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), !activeFilter && !showOngoingOnly && !countryFilter && !typeFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-badge\",\n            children: \"Showing All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 84\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `summary-card ${showOngoingOnly ? 'active' : ''}`,\n          onClick: handleOngoingFilterClick,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Ongoing Issues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-count purple\",\n            children: getStatusCounts().ongoing\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), showOngoingOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-badge\",\n            children: \"Filtered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Issues Shown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-value\",\n            children: filteredData.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-detail\",\n            children: activeFilter ? `${activeFilter === 'yellow' ? 'Degraded' : 'Offline'} incidents` : showOngoingOnly ? 'Ongoing incidents' : 'All incidents'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: viewMode === 'country' ? 'Countries' : 'Phone Numbers'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-value\",\n            children: Object.keys(groupedData).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-detail\",\n            children: [countryFilter ? `In ${countryFilter}` : 'All regions', typeFilter ? `, type: ${typeFilter}` : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [viewMode === 'country' ? 'Countries' : 'Phone Numbers', \" - \", getFilterTitle()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), (activeFilter || showOngoingOnly || searchTerm || countryFilter || typeFilter) && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"clear-filter visible\",\n        onClick: clearAllFilters,\n        children: \"Clear All Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-list\",\n      children: [Object.entries(groupedData).map(([key, events]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: viewMode === 'country' ? \"country-history-card\" : \"phone-history-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: key\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"history-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Started\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Ended\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 19\n              }, this), viewMode === 'phone' && /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Country\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 44\n              }, this), viewMode === 'phone' && /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: events.map(event => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: `status-${event.status}`,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(StatusIndicator, {\n                  status: event.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatDate(event.status_start)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatDate(event.status_end)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: calculateDuration(event.status_start, event.status_end)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 21\n              }, this), viewMode === 'phone' && /*#__PURE__*/_jsxDEV(\"td\", {\n                children: event.country\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 46\n              }, this), viewMode === 'phone' && /*#__PURE__*/_jsxDEV(\"td\", {\n                children: event.type || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 46\n              }, this)]\n            }, event.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this)), Object.keys(groupedData).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-results\",\n        children: [\"No \", viewMode === 'country' ? 'countries' : 'phone numbers', \" match the current filters.\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearAllFilters,\n          className: \"clear-link\",\n          children: \"Clear filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 5\n  }, this);\n};\n_s(GlobalHistoryView, \"Loy61AnlT+hViPv9+MuAgMSnS0s=\");\n_c = GlobalHistoryView;\nexport default GlobalHistoryView;\nvar _c;\n$RefreshReg$(_c, \"GlobalHistoryView\");","map":{"version":3,"names":["React","useState","useEffect","historyApi","StatusIndicator","jsxDEV","_jsxDEV","GlobalHistoryView","_s","historyData","setHistoryData","filteredData","setFilteredData","activeFilter","setActiveFilter","showOngoingOnly","setShowOngoingOnly","loading","setLoading","error","setError","viewMode","setViewMode","searchTerm","setSearchTerm","countryFilter","setCountryFilter","typeFilter","setTypeFilter","timeRange","setTimeRange","startDate","setStartDate","endDate","setEndDate","showCustomDates","setShowCustomDates","fetchHistoryData","Array","isArray","filtered","filter","item","status","term","toLowerCase","number","includes","search","country","type","status_end","params","response","getStatusHistory","getPhoneHistory","data","actualData","console","log","length","warn","err","handleFilterClick","handleOngoingFilterClick","clearAllFilters","getUniqueCountries","countries","Set","forEach","add","from","sort","getUniqueTypes","types","getStatusCounts","counts","yellow","red","ongoing","total","formatDate","dateString","date","Date","toLocaleString","calculateDuration","start","end","durationMs","Math","floor","handleTimeRangeChange","e","newRange","target","value","handleCustomDateSubmit","preventDefault","groupData","grouped","push","getFilterTitle","title","handleViewModeChange","mode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","groupedData","onClick","htmlFor","id","onChange","onSubmit","required","placeholder","map","disabled","Object","keys","entries","key","events","event","status_start","_c","$RefreshReg$"],"sources":["/Users/ben/Downloads/gitTemp/tm_react/client/src/views/GlobalHistoryView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { historyApi } from '../services/api';\nimport StatusIndicator from '../components/StatusIndicator';\nimport './GlobalHistoryView.css';\n\nconst GlobalHistoryView = () => {\n  const [historyData, setHistoryData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [activeFilter, setActiveFilter] = useState(null);\n  const [showOngoingOnly, setShowOngoingOnly] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState('country');  // 'country' or 'phone'\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  // Added new filters\n  const [countryFilter, setCountryFilter] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n  \n  // Filter settings\n  const [timeRange, setTimeRange] = useState('5d');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [showCustomDates, setShowCustomDates] = useState(false);\n\n  useEffect(() => {\n    fetchHistoryData();\n  }, [timeRange, viewMode]);\n\n  // Apply filters when filter states change or historyData updates\n  useEffect(() => {\n    if (!historyData || !Array.isArray(historyData)) {\n      setFilteredData([]);\n      return;\n    }\n    \n    // First filter out the \"green\" (online) events as we're only interested in issues\n    let filtered = historyData.filter(item => item.status !== 'green');\n    \n    // Apply status filter if active\n    if (activeFilter) {\n      filtered = filtered.filter(item => item.status === activeFilter);\n    }\n    \n    // Apply search filter if in phone mode\n    if (viewMode === 'phone' && searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(item => \n        item.number && item.number.toLowerCase().includes(term)\n      );\n    }\n    \n    // Apply country filter if selected\n    if (countryFilter) {\n      const search = countryFilter.toLowerCase();\n      filtered = filtered.filter(item => \n        item.country && item.country.toLowerCase().includes(search)\n      );\n    }\n    \n    // Apply type filter if selected\n    if (typeFilter) {\n      filtered = filtered.filter(item => item.type === typeFilter);\n    }\n    \n    // Apply ongoing filter if active\n    if (showOngoingOnly) {\n      filtered = filtered.filter(item => item.status_end === null);\n    }\n    \n    setFilteredData(filtered);\n  }, [activeFilter, showOngoingOnly, historyData, viewMode, searchTerm, countryFilter, typeFilter]);\n\n  const fetchHistoryData = async () => {\n    try {\n      setLoading(true);\n      \n      let params = { timeRange };\n      if (timeRange === 'custom' && startDate && endDate) {\n        params.startDate = startDate;\n        params.endDate = endDate;\n      }\n      \n      let response;\n      \n      if (viewMode === 'country') {\n        response = await historyApi.getStatusHistory(\n          params.timeRange,\n          params.startDate,\n          params.endDate\n        );\n      } else {\n        response = await historyApi.getPhoneHistory(\n          params.timeRange,\n          params.startDate,\n          params.endDate,\n          searchTerm || null\n        );\n      }\n      \n      // Check if response and response.data exist\n      if (response && response.data) {\n        // Handle wrapped response structure with a data property\n        const actualData = response.data.data || response.data;\n        \n        if (Array.isArray(actualData)) {\n          setHistoryData(actualData);\n          \n          // Log data for debugging\n          console.log('Fetched history data:', actualData);\n          console.log('Yellow items count:', actualData.filter(item => item.status === 'yellow').length);\n        } else {\n          console.error('Expected array but received:', typeof actualData);\n          setHistoryData([]);\n          setError('Invalid data format received from server');\n        }\n      } else {\n        // Handle empty or malformed response\n        console.warn('API returned empty or invalid data');\n        setHistoryData([]);\n        setError('No history data available. Please try again later.');\n      }\n      \n      setLoading(false);\n    } catch (err) {\n      setError('Failed to fetch history data. Please try again later.');\n      setLoading(false);\n      console.error('Error fetching history data:', err);\n      // Initialize with empty array to prevent filter errors\n      setHistoryData([]);\n    }\n  };\n\n  const handleFilterClick = (status) => {\n    if (activeFilter === status) {\n      // If clicking the same filter again, clear the filter\n      setActiveFilter(null);\n    } else {\n      setActiveFilter(status);\n    }\n  };\n  \n  const handleOngoingFilterClick = () => {\n    setShowOngoingOnly(!showOngoingOnly);\n    // Don't reset status filter\n  };\n  \n  const clearAllFilters = () => {\n    setActiveFilter(null);\n    setShowOngoingOnly(false);\n    setSearchTerm('');\n    setCountryFilter('');\n    setTypeFilter('');\n  };\n  \n  // Get unique countries for filter dropdown\n  const getUniqueCountries = () => {\n    if (!historyData || !historyData.length) return [];\n    \n    const countries = new Set();\n    historyData.forEach(item => {\n      if (item.country) countries.add(item.country);\n    });\n    \n    return Array.from(countries).sort();\n  };\n  \n  // Get unique types for filter dropdown\n  const getUniqueTypes = () => {\n    if (!historyData || !historyData.length) return [];\n    \n    const types = new Set();\n    historyData.forEach(item => {\n      if (item.type) types.add(item.type);\n    });\n    \n    return Array.from(types).sort();\n  };\n  \n  // Get counts by status for issues only\n  const getStatusCounts = () => {\n    const counts = {\n      yellow: 0,\n      red: 0,\n      ongoing: 0,\n      total: 0\n    };\n    \n    if (!historyData || !Array.isArray(historyData)) {\n      return counts;\n    }\n    \n    historyData.forEach(item => {\n      if (item.status === 'yellow' || item.status === 'red') {\n        counts[item.status] = (counts[item.status] || 0) + 1;\n        counts.total++;\n        \n        // Count ongoing issues\n        if (item.status_end === null) {\n          counts.ongoing++;\n        }\n      }\n    });\n    \n    return counts;\n  };\n\n  // Format date to readable format\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Present';\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n\n  // Calculate duration between start and end times\n  const calculateDuration = (startDate, endDate) => {\n    if (!endDate) return 'Ongoing';\n    \n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const durationMs = end - start;\n    \n    // Less than a minute\n    if (durationMs < 60000) {\n      return `${Math.floor(durationMs / 1000)} seconds`;\n    }\n    // Less than an hour\n    if (durationMs < 3600000) {\n      return `${Math.floor(durationMs / 60000)} minutes`;\n    }\n    // Less than a day\n    if (durationMs < 86400000) {\n      return `${Math.floor(durationMs / 3600000)} hours`;\n    }\n    // More than a day\n    return `${Math.floor(durationMs / 86400000)} days`;\n  };\n\n  const handleTimeRangeChange = (e) => {\n    const newRange = e.target.value;\n    setTimeRange(newRange);\n    setShowCustomDates(newRange === 'custom');\n  };\n\n  const handleCustomDateSubmit = (e) => {\n    e.preventDefault();\n    fetchHistoryData();\n  };\n\n  // Group history data by country or phone number\n  const groupData = (data = filteredData) => {\n    const grouped = {};\n    \n    if (!data || !Array.isArray(data) || data.length === 0) {\n      return grouped;\n    }\n    \n    if (viewMode === 'country') {\n      data.forEach(item => {\n        if (!item || !item.country) return;\n        \n        if (!grouped[item.country]) {\n          grouped[item.country] = [];\n        }\n        grouped[item.country].push(item);\n      });\n    } else {\n      data.forEach(item => {\n        if (!item || !item.number) return;\n        \n        if (!grouped[item.number]) {\n          grouped[item.number] = [];\n        }\n        grouped[item.number].push(item);\n      });\n    }\n    \n    return grouped;\n  };\n\n  // Add a title that shows the current filter status\n  const getFilterTitle = () => {\n    let title = \"\";\n    \n    if (activeFilter) {\n      title += `${activeFilter === 'yellow' ? 'Degraded' : 'Offline'} `;\n    } else {\n      title += \"All \";\n    }\n    \n    title += \"Issues\";\n    \n    if (showOngoingOnly) {\n      title += \" (Ongoing Only)\";\n    }\n    \n    if (countryFilter) {\n      title += ` in ${countryFilter}`;\n    }\n    \n    if (typeFilter) {\n      title += ` of type ${typeFilter}`;\n    }\n    \n    return title;\n  };\n\n  const handleViewModeChange = (mode) => {\n    setViewMode(mode);\n    // Reset filters when changing view mode\n    setActiveFilter(null);\n    setShowOngoingOnly(false);\n    setSearchTerm('');\n    setCountryFilter('');\n    setTypeFilter('');\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading history data...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  const groupedData = groupData();\n  \n  return (\n    <div className=\"history-view\">\n      <h1>Global Status History</h1>\n      \n      <div className=\"view-mode-toggle\">\n        <button \n          className={`toggle-btn ${viewMode === 'country' ? 'active' : ''}`}\n          onClick={() => handleViewModeChange('country')}\n        >\n          View by Country\n        </button>\n        <button \n          className={`toggle-btn ${viewMode === 'phone' ? 'active' : ''}`}\n          onClick={() => handleViewModeChange('phone')}\n        >\n          View by Phone Number\n        </button>\n      </div>\n      \n      <div className=\"filter-controls\">\n        <div className=\"time-range-selector\">\n          <label htmlFor=\"timeRange\">Time Range:</label>\n          <select \n            id=\"timeRange\" \n            value={timeRange} \n            onChange={handleTimeRangeChange}\n            className=\"time-range-select\"\n          >\n            <option value=\"24h\">Last 24 Hours</option>\n            <option value=\"48h\">Last 48 Hours</option>\n            <option value=\"5d\">Last 5 Days</option>\n            <option value=\"custom\">Custom Range</option>\n          </select>\n        </div>\n        \n        {showCustomDates && (\n          <form onSubmit={handleCustomDateSubmit} className=\"custom-date-form\">\n            <div className=\"date-input-group\">\n              <label htmlFor=\"startDate\">Start Date:</label>\n              <input \n                type=\"datetime-local\" \n                id=\"startDate\" \n                value={startDate} \n                onChange={(e) => setStartDate(e.target.value)}\n                required\n              />\n            </div>\n            \n            <div className=\"date-input-group\">\n              <label htmlFor=\"endDate\">End Date:</label>\n              <input \n                type=\"datetime-local\" \n                id=\"endDate\" \n                value={endDate} \n                onChange={(e) => setEndDate(e.target.value)}\n                required\n              />\n            </div>\n            \n            <button type=\"submit\" className=\"apply-btn\">Apply</button>\n          </form>\n        )}\n        \n        <div className=\"advanced-filters\">\n          <div className=\"filter-group\">\n            <label htmlFor=\"countryFilter\">Country:</label>\n            <div className=\"search-field\">\n              <input\n                type=\"text\"\n                id=\"countryFilter\"\n                placeholder=\"Search for a country...\"\n                value={countryFilter}\n                onChange={(e) => setCountryFilter(e.target.value)}\n                className=\"search-input\"\n              />\n              {countryFilter && (\n                <button \n                  className=\"clear-search-btn\"\n                  onClick={() => setCountryFilter('')}\n                >\n                  Ã—\n                </button>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"filter-group\">\n            <label htmlFor=\"typeFilter\">Type:</label>\n            <select\n              id=\"typeFilter\"\n              value={typeFilter}\n              onChange={(e) => setTypeFilter(e.target.value)}\n              className=\"filter-select\"\n            >\n              <option value=\"\">All Types</option>\n              {getUniqueTypes().map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n        \n        {viewMode === 'phone' && (\n          <div className=\"search-container\">\n            <input\n              type=\"text\"\n              placeholder=\"Search phone numbers...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"search-input\"\n            />\n            <button \n              onClick={fetchHistoryData} \n              className=\"search-btn\"\n              disabled={!searchTerm}\n            >\n              Search\n            </button>\n          </div>\n        )}\n        \n        {(countryFilter || typeFilter || activeFilter || showOngoingOnly || searchTerm) && (\n          <button\n            className=\"clear-filter-btn visible\"\n            onClick={clearAllFilters}\n          >\n            Clear All Filters\n          </button>\n        )}\n      </div>\n      \n      <div className=\"history-summary\">\n        <div className=\"summary-cards\">\n          <div \n            className={`summary-card ${activeFilter === 'red' ? 'active' : ''}`}\n            onClick={() => handleFilterClick('red')}\n          >\n            <h3>Offline Issues</h3>\n            <div className=\"summary-count red\">{getStatusCounts().red}</div>\n            {activeFilter === 'red' && <div className=\"filter-badge\">Filtered</div>}\n          </div>\n          \n          <div \n            className={`summary-card ${activeFilter === 'yellow' ? 'active' : ''}`}\n            onClick={() => handleFilterClick('yellow')}\n          >\n            <h3>Degraded Issues</h3>\n            <div className=\"summary-count yellow\">{getStatusCounts().yellow || 0}</div>\n            {activeFilter === 'yellow' && <div className=\"filter-badge\">Filtered</div>}\n          </div>\n        </div>\n        \n        <div className=\"summary-cards\">\n          <div \n            className={`summary-card ${!activeFilter && !showOngoingOnly ? 'active' : ''}`}\n            onClick={clearAllFilters}\n          >\n            <h3>Total Issues</h3>\n            <div className=\"summary-count blue\">{getStatusCounts().total}</div>\n            {!activeFilter && !showOngoingOnly && !countryFilter && !typeFilter && <div className=\"filter-badge\">Showing All</div>}\n          </div>\n          \n          <div \n            className={`summary-card ${showOngoingOnly ? 'active' : ''}`}\n            onClick={handleOngoingFilterClick}\n          >\n            <h3>Ongoing Issues</h3>\n            <div className=\"summary-count purple\">{getStatusCounts().ongoing}</div>\n            {showOngoingOnly && <div className=\"filter-badge\">Filtered</div>}\n          </div>\n        </div>\n        \n        <div className=\"summary-info\">\n          <div className=\"info-card\">\n            <h3>Issues Shown</h3>\n            <div className=\"info-value\">{filteredData.length}</div>\n            <div className=\"info-detail\">\n              {activeFilter \n                ? `${activeFilter === 'yellow' ? 'Degraded' : 'Offline'} incidents` \n                : (showOngoingOnly ? 'Ongoing incidents' : 'All incidents')}\n            </div>\n          </div>\n          <div className=\"info-card\">\n            <h3>{viewMode === 'country' ? 'Countries' : 'Phone Numbers'}</h3>\n            <div className=\"info-value\">{Object.keys(groupedData).length}</div>\n            <div className=\"info-detail\">\n              {countryFilter ? `In ${countryFilter}` : 'All regions'}\n              {typeFilter ? `, type: ${typeFilter}` : ''}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"history-header\">\n        <h2>{viewMode === 'country' ? 'Countries' : 'Phone Numbers'} - {getFilterTitle()}</h2>\n        {(activeFilter || showOngoingOnly || searchTerm || countryFilter || typeFilter) && (\n          <button \n            className=\"clear-filter visible\"\n            onClick={clearAllFilters}\n          >\n            Clear All Filters\n          </button>\n        )}\n      </div>\n      \n      <div className=\"history-list\">\n        {Object.entries(groupedData).map(([key, events]) => (\n          <div key={key} className={viewMode === 'country' ? \"country-history-card\" : \"phone-history-card\"}>\n            <h2>{key}</h2>\n            <table className=\"history-table\">\n              <thead>\n                <tr>\n                  <th>Status</th>\n                  <th>Started</th>\n                  <th>Ended</th>\n                  <th>Duration</th>\n                  {viewMode === 'phone' && <th>Country</th>}\n                  {viewMode === 'phone' && <th>Type</th>}\n                </tr>\n              </thead>\n              <tbody>\n                {events.map((event) => (\n                  <tr key={event.id} className={`status-${event.status}`}>\n                    <td>\n                      <StatusIndicator status={event.status} />\n                    </td>\n                    <td>{formatDate(event.status_start)}</td>\n                    <td>{formatDate(event.status_end)}</td>\n                    <td>{calculateDuration(event.status_start, event.status_end)}</td>\n                    {viewMode === 'phone' && <td>{event.country}</td>}\n                    {viewMode === 'phone' && <td>{event.type || 'N/A'}</td>}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ))}\n        \n        {Object.keys(groupedData).length === 0 && (\n          <div className=\"no-results\">\n            No {viewMode === 'country' ? 'countries' : 'phone numbers'} match the current filters.\n            <button onClick={clearAllFilters} className=\"clear-link\">Clear filters</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default GlobalHistoryView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}